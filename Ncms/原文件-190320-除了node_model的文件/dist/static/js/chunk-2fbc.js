(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2fbc"],{"OF/N":function(t,e,n){"use strict";n.r(e);var a=n("gBkH"),i={components:{FileUpload:n.n(a).a},data:function(){return{name:"addsubject",contentEditData:"",newname:"",EditData:{title:"",description:"",imageUrl:""},pageData:{page:1,size:10,total:10},contentedit:{name:"标题",subject:"图片",subjectVal:"简介",managementType:"",managementName:""},options:"",type:""}},created:function(){this.contentData()},computed:{modelEdit:function(){return"/administer/management/indexContent/contentEdit"==this.$route.path||"/administer/vipmanagement/indexContent/contentEdit"==this.$route.path}},methods:{childByValue:function(t){this.newname=t,console.log(this.newname,"我接受到的子组件传值")},contentData:function(){var t=this;this.$http.get("api/portal/model/modelContentList",{params:{pgNo:1,rowNum:10,modelId:this.$route.query.indexId}}).then(function(e){t.contentEditData=e.data.model.list,t.contentEditData.map(function(e,n){if(e.id==t.$route.query.contentEdit)return t.EditData=t.contentEditData[n]})}),this.listLoading=!0},goback:function(){history.go(-1)},getOption:function(){var t=this;this.$http.get("api/portal/model/type").then(function(e){!0===e.data.success&&(t.options=e.data.model)})},EditDatachange:function(){var t=this;this.$confirm("是否确认保存","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"error"}).then(function(){t.$http.put("api/portal/model/"+t.$route.query.indexId+"/content",{id:t.$route.query.contentEdit,title:t.EditData.title,description:t.EditData.description}).then(function(e){!0===e.data.success&&(t.$message({type:"success",message:"成功!"}),t.contentData())})}).catch(function(){t.$message({type:"info",message:"取消更改"})})}}},o=(n("gJvr"),n("KHd+")),s=Object(o.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{staticClass:"subjectStyle",attrs:{"label-width":"100px"},model:{value:t.contentedit,callback:function(e){t.contentedit=e},expression:"contentedit"}},[n("h3",[t._v("首页内容-"+t._s(this.$route.query.indexName?this.$route.query.indexName:"")+"-内容编辑")]),t._v(" "),n("el-form-item",{attrs:{label:t.contentedit.name}},[n("el-input",{attrs:{prop:"EditData.title"},model:{value:t.EditData.title,callback:function(e){t.$set(t.EditData,"title",e)},expression:"EditData.title"}})],1),t._v(" "),n("el-form-item",[n("upload-sub",{on:{childByValue:t.childByValue}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.contentedit.subjectVal}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.EditData.description,expression:"EditData.description"}],attrs:{cols:"46",rows:"16",prop:"EditData.description"},domProps:{value:t.EditData.description},on:{input:function(e){e.target.composing||t.$set(t.EditData,"description",e.target.value)}}})]),t._v(" "),n("el-form-item",{staticClass:"buttons"},[n("el-button",{on:{click:t.goback}},[t._v("返回")]),t._v(" "),n("el-button",{on:{click:t.EditDatachange}},[t._v("提交")])],1)],1)},[],!1,null,null,null);s.options.__file="manang-vue.vue";e.default=s.exports},aiIA:function(t,e,n){},gJvr:function(t,e,n){"use strict";var a=n("aiIA");n.n(a).a}}]);