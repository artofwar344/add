(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6b9a"],{EvpN:function(t,e,n){"use strict";n.r(e);var s={data:function(){return{list:null,listLoading:!0,subject:"",userData:[],contentName:"",showMessage:"",postArgument:"",others:"",indexType:"",radioVal:"",pageData:{page:1,total:100,size:10}}},created:function(){this.lumpData()},methods:{lumpData:function(){var t=this;console.log(this.$route.query),this.$http.get("api/portal/theme/"+this.$route.query.modelId+"/"+this.$route.query.contentId+"/content",{params:{id:this.$route.query.modelId,mid:this.$route.query.contentId,pgNo:this.pageData.page,rowNum:30}}).then(function(e){e.data.model.list instanceof Array&&(t.pageData={page:e.data.model.currPage,size:e.data.model.rowsPerPage,total:e.data.model.totalRowCount},t.userData=e.data.model.list)}),this.listLoading=!0},searchManagement:function(){this.lumpData()},lumppath:function(){this.$router.push({path:"/administer/subject/lumpadd",query:this.$route.query})},radioChange:function(t){},sortChange:function(t){this.showMessage="是否改变内容的排序?",this.postArgument="api/portal/model/"+t.id+"/content",this.others={id:t.id,sort:Number(t.sort)},this.packagingFn(this.showMessage,this.postArgument,this.others)},changeState:function(t){this.showMessage="是否改变内容的上下架状态?",this.postArgument="api/portal/model/shelveOrUnshelve",this.others={modelId:t.id,shelvesState:t.shelveState},this.packagingFn(this.showMessage,this.postArgument,this.others)},packagingFn:function(t,e,n){var s=this;this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.$http.put(e,n).then(function(t){!0===t.data.success&&(s.$message({type:"success",message:"成功!"}),s.lumpData())})}).catch(function(){s.$message({type:"info",message:"取消"})})},delSubject:function(t){var e=this;this.$confirm("删除这个内容？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"error"}).then(function(n){n.value;e.$http.delete("api/portal/theme/"+e.$route.query.modelId+"/model/"+e.$route.query.contentId+"/centent/"+t.id,{id:e.$route.query.modelId,mid:e.$route.query.contentId,cid:t.id}).then(function(t){!0===t.data.success&&(e.$message({type:"success",message:"删除成功!"}),e.lumpData())})}).catch(function(){e.$message({type:"info",message:"取消更改"})})},changePage:function(t){this.pageData=t,this.subjectModelData()}}},a=(n("Yx+l"),n("KHd+")),o=Object(a.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-row",{staticClass:"tableTop",attrs:{type:"flex",gutter:14}},[n("el-col",{staticClass:"management",attrs:{span:14,justify:"space-between"}},[t._v(" 首页内容管理--"+t._s(t.contentName)+"--内容管理 ")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-button",{on:{click:function(e){t.lumppath()}}},[t._v("新建内容")])],1)],1),t._v(" "),n("el-row",[n("el-col",{staticClass:"radiostyle"})],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userData,stripe:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{domProps:{textContent:t._s(e.row.id)}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"modelStyleId",label:"标题",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{domProps:{textContent:t._s(e.row.name)}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"modelStyleId",label:"价格",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{domProps:{textContent:t._s(e.row.price)}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticStyle:{"text-align":"center"},attrs:{type:"number"},on:{change:function(n){t.sortChange(e.row)}},model:{value:e.row.sort,callback:function(n){t.$set(e.row,"sort",n)},expression:"scope.row.sort"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"shelvesState",label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" \n         "+t._s(2==e.row.shelvesState?"下架":"上架")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"首页内容管理",width:"380"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{on:{click:function(n){t.delSubject(e.row)}}},[t._v("删除")]),t._v(" "),t._e(),t._v(" "),n("el-button",{on:{click:function(n){t.changeState(e.row)}}},[t._v("下架")])]}}])})],1)],1)},[],!1,null,null,null);o.options.__file="index.vue";e.default=o.exports},H1Cz:function(t,e,n){},"Yx+l":function(t,e,n){"use strict";var s=n("H1Cz");n.n(s).a}}]);